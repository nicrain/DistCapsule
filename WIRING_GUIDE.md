# ğŸ”Œ ç¡¬ä»¶æ¥çº¿æŒ‡å— (Hardware Wiring Guide)

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº† **æ™ºèƒ½èƒ¶å›Šåˆ†é…å™¨** é¡¹ç›®ä¸­æ‰€æœ‰ç¡¬ä»¶æ¨¡å—ä¸ Raspberry Pi 5 çš„è¿æ¥æ–¹å¼ã€‚

## Raspberry Pi 5 GPIO å¼•è„šå›¾ (Pinout Diagram)

![Raspberry Pi 5 GPIO Pinout](https://www.raspberrypi.com/documentation/computers/images/GPIO-Pinout-Diagram-2.png?hash=df7d7847c57a1ca6d5b2617695de6d46)

---

**æœ€åæ›´æ–°æ—¥æœŸï¼š** 2025-12-17
**ä¸»æ§æ¿ï¼š** Raspberry Pi 5
**æ§åˆ¶åº“ï¼š** `lgpio` (è½¯ä»¶æ¨¡æ‹Ÿ PWM)

---

## 1. èˆµæœºæ¨¡å— (Servo Motor)
**å‹å·ï¼š** SG90 (Micro Servo 9g) x 5
**ä¾›ç”µè¦æ±‚ï¼š** 4.8V - 6Vã€‚
**æ³¨æ„ï¼š** æœ¬é¡¹ç›®ä»£ç ä½¿ç”¨ `lgpio` åº“å®ç°è½¯ä»¶ PWM æ§åˆ¶ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ä»»æ„ GPIO å¼•è„šæ§åˆ¶èˆµæœºï¼Œä¸å†å—é™äºæ ‘è“æ´¾çš„ 4 ä¸ªç¡¬ä»¶ PWM é€šé“ã€‚

**âš ï¸ ç”µæºè­¦å‘Šï¼š** è¯·åŠ¡å¿…ä½¿ç”¨ **å¤–éƒ¨ 5V ç”µæº** ä¸ºæ‰€æœ‰èˆµæœºä¾›ç”µï¼Œå¹¶ä¸ Pi **å…±åœ° (Connect Grounds)**ã€‚åˆ‡å‹¿ç›´æ¥ä½¿ç”¨ Pi çš„ 5V å¼•è„šé©±åŠ¨ 5 ä¸ªèˆµæœºã€‚

| èˆµæœºç¼–å· | ä¿¡å·çº¿ (æ©™) | BCM GPIO | ç‰©ç†å¼•è„š (Pin) | å¤‡æ³¨ |
| :--- | :--- | :--- | :--- | :--- |
| **Servo 1** | **GPIO 18** | GPIO 18 | Pin 12 | äº¦æ”¯æŒç¡¬ä»¶ PWM |
| **Servo 2** | **GPIO 12** | GPIO 12 | Pin 32 | äº¦æ”¯æŒç¡¬ä»¶ PWM |
| **Servo 3** | **GPIO 13** | GPIO 13 | Pin 33 | äº¦æ”¯æŒç¡¬ä»¶ PWM |
| **Servo 4** | **GPIO 19** | GPIO 19 | Pin 35 | äº¦æ”¯æŒç¡¬ä»¶ PWM |
| **Servo 5** | **GPIO 6**  | GPIO 6  | Pin 31 | çº¯è½¯ä»¶ PWM |

| é€šç”¨çº¿è‰² | åŠŸèƒ½ | è¿æ¥ç›®æ ‡ |
| :--- | :--- | :--- |
| ğŸ”´ **çº¢** | VCC (+) | **å¤–éƒ¨ 5V ç”µæº** |
| ğŸŸ¤ **æ£•** | GND (-) | **GND** (Pi Pin 6/9/14... ä¸å¤–éƒ¨ç”µæºå…±åœ°) |

> **é…ç½®è¯´æ˜ï¼š**
> ç”±äºä»£ç ä½¿ç”¨çš„æ˜¯ `lgpio` ç›´æ¥æ§åˆ¶ GPIOï¼Œ**ä¸éœ€è¦** åœ¨ `/boot/firmware/config.txt` ä¸­å¼€å¯ç¡¬ä»¶ PWM (`dtoverlay=pwm...`)ã€‚ä¿æŒé»˜è®¤ GPIO æ¨¡å¼å³å¯ã€‚

---

## 2. æ˜¾ç¤ºå± (IPS 1.3" ST7789)
**å‹å·ï¼š** ZJY-IPS130-V2.0 (240x240)
**æ¥å£ï¼š** SPI (7-Pin)

| å±å¹•å¼•è„š | åŠŸèƒ½ | æ ‘è“æ´¾å¼•è„š (Physical) | BCM (GPIO) | è¯´æ˜ |
| :--- | :--- | :--- | :--- | :--- |
| **GND** | åœ° | **Pin 20** | GND | å…±åœ° |
| **VCC** | ç”µæº | **Pin 17** | 3.3V | **æ³¨æ„æ¥ 3.3V** |
| **SCL** | SPI æ—¶é’Ÿ | **Pin 23** | GPIO 11 (SCLK) | SPI0 SCLK |
| **SDA** | SPI æ•°æ® | **Pin 19** | GPIO 10 (MOSI) | SPI0 MOSI |
| **RES** | å¤ä½ | **Pin 22** | GPIO 25 | å¤ä½ä¿¡å· |
| **DC** | æ•°æ®/å‘½ä»¤ | **Pin 18** | GPIO 24 | Data/Command |
| **BLK** | èƒŒå…‰ | **Pin 13** | GPIO 27 | é«˜ç”µå¹³äº® |

> **æ³¨æ„**: æ­¤å±å¹•æ²¡æœ‰ CS å¼•è„šï¼Œç›´æ¥ä½¿ç”¨ SPI0 å³å¯ã€‚

---

### 3. æŒ‡çº¹æ¨¡å— (DY-50 / R307)
**é€šä¿¡åè®®**: UART (Serial)
**å…³é”®æ³¨æ„**:
*   **äº¤å‰è¿æ¥**: ä¼ æ„Ÿå™¨çš„ TX æ¥æ ‘è“æ´¾çš„ RXï¼Œä¼ æ„Ÿå™¨çš„ RX æ¥æ ‘è“æ´¾çš„ TXã€‚
*   **ç«¯å£é€‰æ‹© (Pi 5)**: åœ¨ Raspberry Pi 5 ä¸Šï¼ŒGPIO 14/15 å¯¹åº”çš„ç¡¬ä»¶ä¸²å£æ˜¯ **`/dev/ttyAMA0`**ã€‚

| ä¼ æ„Ÿå™¨å¼•è„š | æ ‘è“æ´¾å¼•è„š (Physical) | æ ‘è“æ´¾ GPIO | åŠŸèƒ½ |
| :--- | :--- | :--- | :--- |
| VCC (çº¢) | Pin 1 | 3.3V Power | ä¾›ç”µ (3.3V) |
| GND (é»‘) | Pin 6 | Ground | æ¥åœ° |
    | TX (ç»¿/é»„) | Pin 10 | GPIO 15 (RXD) | æ•°æ®æ¥æ”¶ |
| RX (ç™½/è“) | Pin 8 | GPIO 14 (TXD) | æ•°æ®å‘é€ |
| WAK (é€‰) | - | - | å”¤é†’ (æš‚ä¸ä½¿ç”¨) |
| VT (é€‰) | - | - | è§¦æ‘¸æ„Ÿåº” (æš‚ä¸ä½¿ç”¨) |

---

## 5. æ‘„åƒå¤´æ¨¡å— (Camera Module 3)
**å‹å·ï¼š** Raspberry Pi Camera Module 3 (IMX708)
**æ¥å£ï¼š** CSI (22-pin Mini CSI on Pi 5)

**âš ï¸ è¿æ¥æ³¨æ„ (Pi 5 ä¸“ç”¨)ï¼š**
*   **æ’çº¿æ–¹å‘**ï¼šåœ¨æ ‘è“æ´¾ç«¯ï¼Œæ’çº¿çš„**é‡‘å±è§¦ç‚¹ï¼ˆé“¶è‰²é¢ï¼‰å¿…é¡»æœå‘ PCB ä¸»æ¿**ï¼ˆå³æœä¸‹ï¼‰ï¼Œ**è“è‰²/é»‘è‰²ç»ç¼˜é¢æœä¸Š**ï¼ˆæœå‘å¡æ‰£ï¼‰ã€‚
*   **æ¥å£é€‰æ‹©**ï¼šå¯ä»¥ä½¿ç”¨ `CAM/DISP 0` æˆ– `CAM/DISP 1`ã€‚æ¨èä½¿ç”¨ `CAM/DISP 1` (é è¿‘ USB æ¥å£ä¸€ä¾§)ï¼Œæˆ–è€… `CAM 0` (é è¿‘ç”µæº)ã€‚
*   **æ’çº¿è§„æ ¼**ï¼šPi 5 ä½¿ç”¨æ›´çª„çš„ 22-pin æ’çº¿ (Mini CSI)ï¼Œä¸ Pi 3/4 çš„æ ‡å‡† CSI ä¸é€šç”¨ã€‚

**æµ‹è¯•å‘½ä»¤ï¼š**
```bash
rpicam-hello -t 5000
```
å¦‚æœä½ çœ‹åˆ° "Fixed dependency cycle" æˆ– Error -5ï¼Œè¯·é¦–å…ˆæ£€æŸ¥æ’çº¿æ˜¯å¦æ’åã€‚

---

## 6. è½¯ä»¶é…ç½®æ£€æŸ¥
### 4.1 å¯ç”¨ä¸²å£ (æŒ‡çº¹)
ç¡®ä¿ Raspberry Pi çš„ä¸²å£æœªè¢«æ§åˆ¶å°å ç”¨ï¼š
1. è¿è¡Œ `sudo raspi-config`
2. é€‰æ‹© `Interface Options` -> `Serial Port`
3. **Login shell:** é€‰æ‹© **No**
4. **Serial port hardware:** é€‰æ‹© **Yes**
5. é‡å¯ç”Ÿæ•ˆã€‚

### 4.2 Python ä¾èµ–
ç¡®ä¿å®‰è£…äº†å¿…è¦çš„åº“ï¼š
```bash
sudo apt install python3-lgpio python3-serial python3-pil python3-rpi.gpio
pip3 install adafruit-circuitpython-fingerprint st7789
```
