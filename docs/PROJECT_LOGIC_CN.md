# DistCapsule 演示逻辑大纲 (V3.0 深度版)

本大纲完全同步 LaTeX 幻灯片 (`main.tex`)，旨在支撑 20-30 分钟的技术答辩。

---

## 一、 背景与痛点 (Contexte)
*   **第 1 页：封面**
    *   关键词：Raspberry Pi 5, IoT Biométrique, V1.1 Finale.
*   **第 2-3 页：现状与方案**
    *   **痛点**：不是简单的“防盗”，而是**空间效率**。咖啡角杂乱、胶囊口味难辨、个人存储占地。
    *   **愿景**：从存储工具升级为“智能服务代理”。

---

## 二、 核心架构 (Architecture)
*   **第 4 页：三层分布式架构**
    *   **Client (Java App)**：负责用户交互，作为系统的“遥控器”。
    *   **Gateway (FastAPI)**：中枢节点，处理安全验证、Token 管理、指令入库。
    *   **Executor (Core Agent)**：底层驱动，24/7 轮询任务，执行硬件动作。
*   **第 5 页：指令流转 (Workflow)**
    *   演示“解锁”全过程：App 发送 -> API 校验 -> SQLite 入库 -> Core 驱动舵机 -> 屏幕反馈。
*   **第 6 页：网络稳定性 (Network Logic)**
    *   **标准热点模式**：解释为何选择启用网关（Gateway Enabled）。
    *   **兼容性**：确保 Android 10+ 不会因为“无网络”而断开连接。

---

## 三、 技术挑战与硬核攻克 (Défis Techniques)
*   **第 7 页：Pi 5 的底层变革**
    *   **挑战**：RP1 芯片导致 `RPi.GPIO` 失效。
    *   **解决**：迁移至 `lgpio` 库，重新封装底层操作。
*   **第 8 页：自研 Soft-PWM**
    *   **技术点**：手写软件脉宽调制逻辑，在树莓派 5 上实现 5 路舵机无抖动控制。
*   **第 9 页：自愈系统 (Watchdog)**
    *   **逻辑**：后台线程每 30 秒“体检”指纹模块。
    *   **自动复位**：检测到超时即自动重启串口（Soft Reset），解决硬件偶尔死锁的顽疾。

---

## 四、 移动端体验与安全性 (Mobile UX)
*   **第 10 页：Vivid Palette 设计语言**
    *   🟢 **绿**：就绪/成功。
    *   🟡 **黄**：连接/待办。
    *   🔴 **红**：警告/删除（避免刺眼，保持视觉舒适）。
*   **第 11-12 页：安全加固**
    *   **Admin 锁**：禁止删除管理员，管理界面动态权限控制。
    *   **隐私清理**：Supprimer mon compte = 数据库 + 指纹/人脸特征 + Token 三位一体同步清理。

---

## 三、 工程、制造与电路 (Ingénierie)
*   **第 13 页：Code-to-CAD 参数化建模**
    *   **工具**：OpenSCAD / SolidPython。
    *   **优势**：极速迭代。修改一个直径参数，整个支架模型自动更新。
*   **第 14-15 页：硬件集成**
    *   **连线图**：展示 GPIO, SPI, UART, CSI 的密集整合。
    *   **供电策略**：5V 电机独立供电，防止电压波动冲击树莓派核心。

---

## 六、 总结与展望 (Bilan)
*   **第 16-17 页：项目完成度**
    *   App Polished, API Stable, Hardware Auto-Healing.
*   **第 18 页：结论**
    *   不仅仅是一个分发器，更是一个完整的、尊重隐私的本地化物联网闭环。
*   **第 19 页：提问与演示**
    *   开启实机演示环节。

---
*演讲贴士：在讲“挑战”部分时尽量深入，在讲“UX”部分时展示截图。*
